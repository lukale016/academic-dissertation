<mat-expansion-panel (afterExpand)="newMessages = false">
    <mat-expansion-panel-header>
        <mat-panel-title>
            {{ chatTitle }}
        </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="flexVertical fillParent">
        <div class="chat">
            <div class="flexVertical" *ngFor="let message of messages">
                <p *ngIf="message.fromCurrent" class="selfAlignEnd message">{{ message.message }}</p>
                <p *ngIf="!message.fromCurrent" class="message">{{ message.message }}</p>
            </div>
        </div>
        <div class="flex centerContent">
            <mat-form-field class="fillParentWidth">
                <input [(ngModel)]="messageContent" type="text" matInput>
            </mat-form-field>
            <button (click)="sendMessage()" mat-icon-button><mat-icon color="primary">send</mat-icon></button>
        </div>
    </div>
</mat-expansion-panel>